#!/usr/bin/env bash

# Credits: https://github.com/kittenmilk/owo

# Parse options
while getopts ":hv" o; do
  case "${o}" in
    h)
      printf "usage: owo [-h|-v]\n" && exit;;
    v)
      printf "v0.1 \n" && exit ;;
    *)
      printf "Invalid option: -%s\n" "$OPTARG"
      printf "usage: owo [-h|-v]\n" && exit 1 ;;
  esac
done

i=0
while read -r word;
do
  char="${input:$i:1}"
  prev="${input:$((i-1)):1}"

# first check if the character is alphabetical
if [[ $char =~ [[:alpha:]] ]]; then
  if [[ $char = "r" || $char = "l"  ]]; then
    char="w"
  elif [[ $char = "R" || $char = "L"  ]]; then
    char="W"
  elif [[ $prev = "n" && $char = "a" ]]; then
    char="${char}y"
  elif [[ $prev = "N" && $char = "A" ]]; then
    char="${char}Y"
  fi
fi

  output="${output}$char"
  i=$((i+1))
done
